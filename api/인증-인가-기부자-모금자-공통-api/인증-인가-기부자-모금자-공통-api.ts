/**
 * Generated by orval v6.16.0 ğŸº
 * Do not edit manually.
 * Hi Kitty í”„ë¡œì íŠ¸!!
 * Hi Kittyì˜ API ëª…ì„¸ì„œì…ë‹ˆë‹¤.
 * OpenAPI spec version: v1
 */
import { useQuery, useMutation } from 'react-query';
import type {
  UseQueryOptions,
  UseMutationOptions,
  QueryFunction,
  MutationFunction,
  UseQueryResult,
  QueryKey,
} from 'react-query';
import type { ApiResultUserAndProfileResponse, UpdatePasswordBodyOne, UpdatePasswordBodyTwo } from '../../orval/model';
import { customInstance } from '../axios';

// eslint-disable-next-line
type SecondParameter<T extends (...args: any) => any> = T extends (config: any, args: infer P) => any ? P : never;

/**
 * ì´ë¯¸ì§€ì™€ í•¨ê»˜ ì¶œë ¥ë©ë‹ˆë‹¤.
 * @summary ìœ ì € ì •ë³´ ì¡°íšŒ with email
 */
export const getByEmail = (options?: SecondParameter<typeof customInstance>, signal?: AbortSignal) => {
  return customInstance<ApiResultUserAndProfileResponse>({ url: `/api/v1/auth/users`, method: 'get', signal }, options);
};

export const getGetByEmailQueryKey = () => [`/api/v1/auth/users`] as const;

export const getGetByEmailQueryOptions = <TData = Awaited<ReturnType<typeof getByEmail>>, TError = unknown>(options?: {
  query?: UseQueryOptions<Awaited<ReturnType<typeof getByEmail>>, TError, TData>;
  request?: SecondParameter<typeof customInstance>;
}): UseQueryOptions<Awaited<ReturnType<typeof getByEmail>>, TError, TData> & { queryKey: QueryKey } => {
  const { query: queryOptions, request: requestOptions } = options ?? {};

  const queryKey = queryOptions?.queryKey ?? getGetByEmailQueryKey();

  const queryFn: QueryFunction<Awaited<ReturnType<typeof getByEmail>>> = ({ signal }) =>
    getByEmail(requestOptions, signal);

  return { queryKey, queryFn, ...queryOptions };
};

export type GetByEmailQueryResult = NonNullable<Awaited<ReturnType<typeof getByEmail>>>;
export type GetByEmailQueryError = unknown;

/**
 * @summary ìœ ì € ì •ë³´ ì¡°íšŒ with email
 */
export const useGetByEmail = <TData = Awaited<ReturnType<typeof getByEmail>>, TError = unknown>(options?: {
  query?: UseQueryOptions<Awaited<ReturnType<typeof getByEmail>>, TError, TData>;
  request?: SecondParameter<typeof customInstance>;
}): UseQueryResult<TData, TError> & { queryKey: QueryKey } => {
  const queryOptions = getGetByEmailQueryOptions(options);

  const query = useQuery(queryOptions) as UseQueryResult<TData, TError> & { queryKey: QueryKey };

  query.queryKey = queryOptions.queryKey;

  return query;
};

/**
 * í† í° ê°’ì„ ì…ë ¥í•˜ê³  ì´ë¯¸ì§€, ë‹‰ë„¤ì„ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.
 * @summary ìœ ì € ì •ë³´ ìˆ˜ì •
 */
export const updatePassword = (
  updatePasswordBody: UpdatePasswordBodyOne | UpdatePasswordBodyTwo,
  options?: SecondParameter<typeof customInstance>
) => {
  const config = {
    headers: {
      'Content-Type': 'multipart/form-data',
    },
  };

  const request = new Blob([JSON.stringify(updatePasswordBody.request)], { type: 'application/json' });

  const formData = new FormData();

  formData.append('request', request);

  if (updatePasswordBody.img) {
    formData.append('img', updatePasswordBody.img, 'image.png');
  }

  return customInstance<ApiResultUserAndProfileResponse>(
    {
      url: `/api/v1/auth/users`,
      method: 'put',
      data: formData,
    },
    { ...config, ...options }
  );
};

export const getUpdatePasswordMutationOptions = <TError = unknown, TContext = unknown>(options?: {
  mutation?: UseMutationOptions<
    Awaited<ReturnType<typeof updatePassword>>,
    TError,
    { data: UpdatePasswordBodyOne | UpdatePasswordBodyTwo },
    TContext
  >;
  request?: SecondParameter<typeof customInstance>;
}): UseMutationOptions<
  Awaited<ReturnType<typeof updatePassword>>,
  TError,
  { data: UpdatePasswordBodyOne | UpdatePasswordBodyTwo },
  TContext
> => {
  const { mutation: mutationOptions, request: requestOptions } = options ?? {};

  const mutationFn: MutationFunction<
    Awaited<ReturnType<typeof updatePassword>>,
    { data: UpdatePasswordBodyOne | UpdatePasswordBodyTwo }
  > = props => {
    const { data } = props ?? {};

    return updatePassword(data, requestOptions);
  };

  return { mutationFn, ...mutationOptions };
};

export type UpdatePasswordMutationResult = NonNullable<Awaited<ReturnType<typeof updatePassword>>>;
export type UpdatePasswordMutationBody = UpdatePasswordBodyOne | UpdatePasswordBodyTwo;
export type UpdatePasswordMutationError = unknown;

/**
 * @summary ìœ ì € ì •ë³´ ìˆ˜ì •
 */
export const useUpdatePassword = <TError = unknown, TContext = unknown>(options?: {
  mutation?: UseMutationOptions<
    Awaited<ReturnType<typeof updatePassword>>,
    TError,
    { data: UpdatePasswordBodyOne | UpdatePasswordBodyTwo },
    TContext
  >;
  request?: SecondParameter<typeof customInstance>;
}) => {
  const mutationOptions = getUpdatePasswordMutationOptions(options);

  return useMutation(mutationOptions);
};
